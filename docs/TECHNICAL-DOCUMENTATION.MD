# 6040 Vista - Technical Documentation

**Version:** 1.0  
**Date:** 2025-11-06  
**Purpose:** Complete technical reference for all fixes and features

---

## TABLE OF CONTENTS

1. [Critical Visual Fixes](#1-critical-visual-fixes)
2. [Netflix-Style Carousel](#2-netflix-style-carousel)
3. [Lightbox Image Gallery](#3-lightbox-image-gallery)
4. [Trusted Partners Section](#4-trusted-partners-section)
5. [Sketch-Style Interactive Map](#5-sketch-style-interactive-map)
6. [Hero Background Implementation](#6-hero-background-implementation)
7. [CSS Architecture](#7-css-architecture)
8. [JavaScript Modules](#8-javascript-modules)
9. [Performance Optimization](#9-performance-optimization)
10. [Accessibility Features](#10-accessibility-features)

---

## 1. CRITICAL VISUAL FIXES

### 1.1 Logo Sizing Fix

**Problem:** Logo too large, covering navigation items

**Solution:**
```css
.nav-logo {
    height: 60px;
    width: auto;
    max-width: 180px;
    object-fit: contain;
}

@media (max-width: 768px) {
    .nav-logo {
        height: 50px;
        max-width: 150px;
    }
}
```

**HTML:**
```html
<nav class="main-nav">
    <img src="images/6040V.svg" alt="6040 Vista Logo" class="nav-logo">
    <!-- Rest of navigation -->
</nav>
```

### 1.2 Button Overlap Fix

**Problem:** Scroll-to-top button overlaying WhatsApp floating button

**Solution:**
```css
.scroll-to-top {
    position: fixed;
    bottom: 90px; /* Moved up from 20px */
    right: 20px;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #C9A869, #A37F4E);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 998; /* Below WhatsApp button (999) */
}

.whatsapp-float {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    z-index: 999;
}
```

### 1.3 Hero Text Visibility Fix

**Problem:** Text and logo cannot be seen on hero sections

**Solution:**
```css
.hero {
    position: relative;
    min-height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

.hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5); /* Dark overlay for contrast */
    z-index: 1;
}

.hero-content {
    position: relative;
    z-index: 2;
    color: #FFFFFF;
    text-align: center;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
}

.hero-logo {
    max-width: 300px;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.6));
    margin-bottom: 20px;
}

.hero h1 {
    font-size: 3.5rem;
    color: #FFFFFF;
    margin-bottom: 20px;
}

.hero p {
    font-size: 1.5rem;
    color: rgba(255, 255, 255, 0.95);
}
```

### 1.4 Overlapping Elements Fix

**For amenities.html and inquiry.html:**

```css
/* Ensure proper z-index stacking */
.amenities-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    z-index: 1;
}

.amenity-card {
    position: relative;
    z-index: auto;
}

/* Fix form overlaps */
.inquiry-form {
    position: relative;
    z-index: 1;
}

.form-section {
    margin-bottom: 30px; /* Adequate spacing */
}
```

---

## 2. NETFLIX-STYLE CAROUSEL

### 2.1 Architecture

**Files:**
- `css/carousel-netflix.css`
- `js/carousel-netflix.js`

**Features:**
- Full-focus single unit display
- Horizontal slide animation
- Auto-play with 5-second interval
- Manual navigation (arrows + indicators)
- Touch/swipe support for mobile
- Pause on hover
- Keyboard navigation (arrow keys)

### 2.2 Implementation

**HTML Structure (auto-generated by JS):**
```html
<section class="units-carousel-section">
    <div class="carousel-container">
        <!-- JavaScript builds the carousel here -->
    </div>
</section>
```

**CSS Link:**
```html
<link rel="stylesheet" href="css/carousel-netflix.css">
```

**JavaScript Link:**
```html
<script src="js/carousel-netflix.js"></script>
```

### 2.3 Customization

**Modify carousel settings in JS:**
```javascript
const carousel = new NetflixCarousel(carouselContainer, {
    autoPlay: true,
    autoPlayInterval: 5000 // Change interval (milliseconds)
});
```

**Add/modify unit data:**
Edit the `units` array in `carousel-netflix.js`:
```javascript
const units = [
    {
        id: '2br-a',
        badge: 'Premium 2 Bedroom',
        title: '2BR Apartment - Layout A',
        size: '101m¬≤',
        bedrooms: '2',
        bathrooms: '2',
        price: 'KES 12.5M',
        description: '...',
        features: [...],
        image: 'images/Living Room Interior Render.webp',
        link: 'units.html#2br-a'
    },
    // Add more units...
];
```

---

## 3. LIGHTBOX IMAGE GALLERY

### 3.1 Architecture

**Files:**
- `css/lightbox-gallery.css`
- `js/lightbox-gallery.js`

**Features:**
- Click-to-enlarge floor plans
- Full-screen modal overlay
- Zoom controls (+, -, reset)
- Download button
- Keyboard support (ESC to close)
- Click outside to close
- Touch-friendly

### 3.2 Implementation

**Add CSS and JS:**
```html
<link rel="stylesheet" href="css/lightbox-gallery.css">
<script src="js/lightbox-gallery.js"></script>
```

**Make images clickable:**
```html
<img src="images/2bed-a.webp" 
     alt="2BR Layout A Floor Plan" 
     class="floor-plan-gallery"
     data-title="2 Bedroom Apartment - Layout A"
     data-description="101m¬≤ ‚Ä¢ 2 Bedrooms ‚Ä¢ 2 Bathrooms">
```

**Auto-detection:**
The script automatically detects images with:
- `src` containing "floor-plan", "2bed", "3bed"
- `alt` containing "Floor Plan"
- Parent container with class `.floor-plan` or `.unit-floor-plan`

### 3.3 Programmatic Usage

```javascript
// Open lightbox programmatically
window.lightboxGallery.open(
    'images/3bed.webp',
    '3 Bedroom Apartment',
    '135m¬≤ luxury living space'
);

// Close lightbox
window.lightboxGallery.close();
```

---

## 4. TRUSTED PARTNERS SECTION

### 4.1 Architecture

**File:** `html-snippets/trusted-partners-section.html`

**Features:**
- Two-column grid layout
- Finance Partners | Legal Partners
- Clickable logos with hover effects
- Responsive design (stacks on mobile)

### 4.2 Implementation

**In index.html, after statistics section:**
```html
<!-- Statistics Section -->
</section>

<!-- INSERT TRUSTED PARTNERS -->
<!-- Copy entire content from html-snippets/trusted-partners-section.html -->
<section class="trusted-partners">
    <!-- Partners content -->
</section>
```

**Required images:**
- `images/nbk.svg` (National Bank of Kenya)
- `images/nmn-law-logo.webp` (NMN Law Associates)

### 4.3 Customization

**Add more partners:**
```html
<div class="partner-card">
    <div class="partner-category">
        <div class="category-icon">
            <!-- Icon SVG -->
        </div>
        <h3>Partner Category</h3>
    </div>
    
    <div class="partner-logo-container">
        <a href="https://partner-website.com" target="_blank" class="partner-logo-link">
            <img src="images/partner-logo.png" alt="Partner Name" class="partner-logo">
            <div class="partner-overlay">
                <span>Visit Website ‚Üí</span>
            </div>
        </a>
    </div>
    
    <div class="partner-info">
        <h4>Partner Name</h4>
        <p>Description of partnership</p>
    </div>
</div>
```

---

## 5. SKETCH-STYLE INTERACTIVE MAP

### 5.1 Architecture

**Files:**
- `css/sketch-map.css`
- `js/sketch-map.js`

**Features:**
- Hand-drawn Airbnb-style aesthetic
- Animated connection lines from 6040 Vista to locations
- Time/distance indicators
- Hover interactions
- Responsive positioning

### 5.2 Implementation

**HTML Container:**
```html
<section class="sketch-map-section">
    <div id="sketch-map-container"></div>
</section>
```

**Add CSS and JS:**
```html
<link rel="stylesheet" href="css/sketch-map.css">
<script src="js/sketch-map.js"></script>
```

**JavaScript builds the entire map automatically.**

### 5.3 Customization

**Modify locations in `sketch-map.js`:**
```javascript
this.locations = [
    {
        id: 'northern-bypass',
        name: 'Northern Bypass',
        icon: 'üõ£Ô∏è',
        distance: '100M',
        time: '2 min walk',
        direction: 'N',
        position: { top: '25%', left: '50%' }
    },
    // Add/modify locations...
];
```

**Adjust position percentages** to match geographic accuracy.

---

## 6. HERO BACKGROUND IMPLEMENTATION

### 6.1 Universal Hero CSS

```css
.hero {
    position: relative;
    min-height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

.hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1;
}

.hero-content {
    position: relative;
    z-index: 2;
    color: #FFFFFF;
    text-align: center;
    max-width: 800px;
    padding: 0 20px;
}
```

### 6.2 Page-Specific Backgrounds

**location.html:**
```html
<section class="hero hero-location" style="background-image: url('images/Street Render.webp');">
    <div class="hero-content">
        <h1>Prime Location</h1>
        <p>Minutes from everything that matters</p>
    </div>
</section>
```

**contact.html:**
```html
<section class="hero hero-contact" style="background-image: url('images/building-aerial.webp');">
    <div class="hero-content">
        <h1>Get In Touch</h1>
        <p>Let's discuss your investment opportunity</p>
    </div>
</section>
```

**amenities.html:**
```html
<section class="hero hero-amenities" style="background-image: url('images/Living Room Interior Render.webp');">
    <div class="hero-content">
        <h1>Premium Amenities</h1>
        <p>Luxury living at its finest</p>
    </div>
</section>
```

**units.html:**
```html
<section class="hero hero-units" style="background-image: url('images/Bedroom Interior Render.webp');">
    <div class="hero-content">
        <h1>Our Units</h1>
        <p>Find your perfect home</p>
    </div>
</section>
```

---

## 7. CSS ARCHITECTURE

### 7.1 File Structure

```
css/
‚îú‚îÄ‚îÄ styles.css (main stylesheet - use cleaned version)
‚îú‚îÄ‚îÄ carousel-netflix.css
‚îú‚îÄ‚îÄ lightbox-gallery.css
‚îî‚îÄ‚îÄ sketch-map.css
```

### 7.2 CSS Loading Order

```html
<head>
    <!-- Main styles -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Feature-specific styles (load as needed) -->
    <link rel="stylesheet" href="css/carousel-netflix.css">
    <link rel="stylesheet" href="css/lightbox-gallery.css">
    <link rel="stylesheet" href="css/sketch-map.css">
</head>
```

### 7.3 CSS Variables (in styles.css)

```css
:root {
    /* Colors */
    --color-cream: #F5F1E8;
    --color-beige: #E8DCC4;
    --color-sand: #D4C4A8;
    --color-gold: #C9A869;
    --color-bronze: #A37F4E;
    --color-dark: #2C2420;
    --color-text: #4A4A4A;
    
    /* Fonts */
    --font-heading: 'Playfair Display', serif;
    --font-body: 'Lato', sans-serif;
    
    /* Spacing */
    --spacing-xs: 10px;
    --spacing-sm: 20px;
    --spacing-md: 40px;
    --spacing-lg: 60px;
    --spacing-xl: 80px;
    
    /* Border Radius */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 20px;
    --radius-round: 50%;
}
```

---

## 8. JAVASCRIPT MODULES

### 8.1 File Structure

```
js/
‚îú‚îÄ‚îÄ whatsapp-integration.js (existing)
‚îú‚îÄ‚îÄ carousel-netflix.js
‚îú‚îÄ‚îÄ lightbox-gallery.js
‚îî‚îÄ‚îÄ sketch-map.js
```

### 8.2 JavaScript Loading Order

```html
<body>
    <!-- Content -->
    
    <!-- Load scripts at bottom -->
    <script src="js/whatsapp-integration.js"></script>
    <script src="js/carousel-netflix.js"></script>
    <script src="js/lightbox-gallery.js"></script>
    <script src="js/sketch-map.js"></script>
</body>
```

### 8.3 Global Objects

All modules expose global objects for debugging and programmatic control:

```javascript
// Carousel control
window.unitsCarousel.nextSlide();
window.unitsCarousel.prevSlide();
window.unitsCarousel.goToSlide(2);

// Lightbox control
window.lightboxGallery.open(src, title, description);
window.lightboxGallery.close();

// Map control
window.sketchMap.drawConnectionLines();
```

---

## 9. PERFORMANCE OPTIMIZATION

### 9.1 Image Optimization

**WebP format:** All images should be in WebP format for optimal size

**Lazy loading:**
```html
<img src="images/photo.webp" alt="Description" loading="lazy">
```

**Responsive images:**
```html
<img srcset="images/photo-small.webp 640w,
             images/photo-medium.webp 1024w,
             images/photo-large.webp 1920w"
     sizes="(max-width: 640px) 100vw,
            (max-width: 1024px) 80vw,
            1200px"
     src="images/photo-large.webp"
     alt="Description">
```

### 9.2 CSS Optimization

**Critical CSS:** Inline critical CSS for above-the-fold content

**Font loading:**
```html
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
```

### 9.3 JavaScript Optimization

**Defer non-critical JS:**
```html
<script src="js/script.js" defer></script>
```

**Async for independent modules:**
```html
<script src="js/analytics.js" async></script>
```

---

## 10. ACCESSIBILITY FEATURES

### 10.1 ARIA Labels

All interactive elements have proper ARIA labels:

```html
<button class="carousel-arrow prev" aria-label="Previous unit">
<div class="lightbox-overlay" role="dialog" aria-modal="true">
<img src="..." alt="Descriptive text">
```

### 10.2 Keyboard Navigation

- **Carousel:** Arrow keys to navigate
- **Lightbox:** ESC to close, +/- to zoom
- **Map:** Tab to focus markers, Enter to activate

### 10.3 Screen Reader Support

Live regions announce dynamic changes:

```javascript
announce(message) {
    let liveRegion = document.getElementById('live-region');
    if (!liveRegion) {
        liveRegion = document.createElement('div');
        liveRegion.setAttribute('aria-live', 'polite');
        // ... setup
    }
    liveRegion.textContent = message;
}
```

### 10.4 Color Contrast

All text meets WCAG AA standards:
- Normal text: 4.5:1 minimum
- Large text: 3:1 minimum
- Interactive elements: Visible focus indicators

---

## TESTING CHECKLIST

### Browser Testing
- [ ] Chrome (latest)
- [ ] Firefox (latest)
- [ ] Safari (latest)
- [ ] Edge (latest)
- [ ] Mobile Safari (iOS)
- [ ] Mobile Chrome (Android)

### Device Testing
- [ ] Desktop (1920x1080)
- [ ] Laptop (1366x768)
- [ ] Tablet (768x1024)
- [ ] Mobile (375x667)

### Feature Testing
- [ ] Carousel auto-play works
- [ ] Carousel manual controls work
- [ ] Lightbox opens and closes
- [ ] Lightbox zoom works
- [ ] Map hover states work
- [ ] Map connection lines render
- [ ] WhatsApp button works
- [ ] All forms submit correctly
- [ ] All links work
- [ ] All images load

### Performance Testing
- [ ] Page load time < 3 seconds
- [ ] No console errors
- [ ] Images load progressively
- [ ] No layout shifts (CLS)
- [ ] Smooth animations (60fps)

---

**End of Technical Documentation**